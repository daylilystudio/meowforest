import{S as v}from"./ShopLayout.d3469889.js";import{x as k,a as C,u as N,r as h,o as O,b as y,c as l,h as x,w as P,e as p,f as t,i as s,t as e,j as m,k as b,n as g,F as S,g as B,p as T,l as D}from"./index.2e2974b4.js";import{u as M}from"./global.90d7dab6.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";import"./TheHeader.a4860dbd.js";const j={components:{ShopLayout:v},setup(){const i=k("axios"),d=C(),f=N(),o=M(),_=h(null),u=h(!1);async function w(a){o.loading=!0;const c=`https://vue3-course-api.hexschool.io/api/daylily-api/order/${a}`;i.get(c).then(n=>{_.value=n.data.success?n.data.order:"No order found",console.log(n),o.loading=!1}).catch(n=>{console.log(n),o.loading=!1})}return O(async()=>{await w(f.path.split("/")[2])}),{globalStore:o,router:d,orderInfo:_,openProducts:u,async copy(){const a=document.createElement("input");a.value=window.location.href,a.style.display="none",document.body.appendChild(a);try{await navigator.clipboard.writeText(a.value),window.$notification.success({content:"Copy URL Success !",duration:3e3})}catch(c){console.error(c)}}}}},r=i=>(T("data-v-c0b7703d"),i=i(),D(),i),A={key:0},L={class:"tw-bg-gray-200 tw-rounded-lg tw-py-1 tw-px-4"},R={class:"text-second border-second tw-border tw-border-solid tw-text-sm tw-rounded-full tw-px-2 tw-ml-1"},E={class:"tw-text-right tw-font-bold text-primary tw-my-2 tw-mr-4"},F=r(()=>t("br",{class:"tw-block md:tw-hidden"},null,-1)),U={class:"md:tw-grid tw-grid-cols-2 tw-px-4 tw-leading-7"},G=r(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Order Total",-1)),q={class:"text-second"},z=r(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Order Date",-1)),H=r(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Shipping Method",-1)),X=r(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Payment Method",-1)),Y={key:0,class:"text-primary border-primary tw-border tw-border-solid tw-shadow-inner tw-rounded-xl tw-font-bold tw-col-span-2 md:tw-flex tw-items-center tw-py-3 tw-mt-2"},J={class:"tw-text-lg tw-text-center md:tw-px-8"},K={class:"tw-grid tw-gap-1 tw-text-center md:tw-text-left tw-my-4 md:tw-my-0"},Q=r(()=>t("span",null,"Bank Code : 333 (Meow Bank)",-1)),W=r(()=>t("span",null,"Account : 00001234567890",-1)),Z={class:"text-second"},$=r(()=>t("h4",{class:"tw-bg-gray-200 tw-rounded-lg tw-py-1 tw-px-4 tw-mt-10 tw-mb-2"},"Customer Details",-1)),tt={class:"md:tw-grid tw-grid-cols-2 tw-leading-7 tw-px-4"},ot=r(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Name",-1)),et=r(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Email",-1)),st=r(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Phone",-1)),nt=r(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Address",-1)),rt={class:"tw-col-span-12 md:tw-col-span-6"},dt={class:"tw-col-span-4 md:tw-col-span-2 tw-flex tw-justify-between"},at={class:"text-primary tw-font-bold"},ct=r(()=>t("span",{class:"tw-mr-4"},"X",-1)),lt={class:"tw-col-span-4 md:tw-col-span-2"},it={class:"tw-col-span-4 md:tw-col-span-2 tw-flex tw-justify-between"},wt={class:"text-primary tw-font-bold"},pt={class:"tw-mt-5 tw-text-right"},_t={class:"tw-font-bold text-primary tw-ml-1"},mt={key:1,class:"tw-text-xl tw-font-bold tw-text-center tw-mb-6"};function ft(i,d,f,o,_,u){const w=y("font-awesome-icon"),a=y("shop-layout");return l(),x(a,{process:2,breadcrumb:"Order Finish",nextBtn:"Back To Home",onOnGoNext:d[2]||(d[2]=c=>o.router.push("/"))},{content:P(()=>{var c;return[o.orderInfo!==null?(l(),p("div",A,[t("h4",L,[s("Order Details "),t("span",R,e(o.orderInfo.is_paid?"Paid":"Unpaid"),1)]),t("p",E,[s("Order No. "+e(o.orderInfo.create_at)+" ",1),F,t("a",{onClick:d[0]||(d[0]=(...n)=>o.copy&&o.copy(...n)),class:"bg-primary tw-rounded-full tw-text-sm tw-text-white tw-py-1 tw-px-3 tw-cursor-pointer"},[m(w,{icon:["far","copy"],class:"tw-mr-2"}),s("COPY URL ")])]),t("section",U,[t("div",null,[G,s(),t("span",q,"$"+e(o.orderInfo.total+o.orderInfo.user.shipping_money),1)]),t("div",null,[z,s(" "+e(`${o.orderInfo.user.date.y}-${o.orderInfo.user.date.m}-${o.orderInfo.user.date.d}`),1)]),t("div",null,[H,s(" "+e(o.orderInfo.user.shipping_method),1)]),t("div",null,[X,s(" "+e(o.orderInfo.user.payment_method==="atm"?"ATM transfer":"Credit ****"+o.orderInfo.user.card.slice(-4)),1),((c=o.orderInfo.user)==null?void 0:c.payment_method)==="creditcard"?(l(),x(w,{key:0,icon:["far","credit-card"],class:"tw-opacity-40 tw-ml-1"})):b("",!0)]),o.orderInfo.user.payment_method==="atm"?(l(),p("div",Y,[t("p",J,[m(w,{icon:["fas","cat"]}),s(" ATM transfer Info")]),t("p",K,[Q,W,t("span",Z,"Deadline : "+e(`${o.orderInfo.user.date.y}-${o.orderInfo.user.date.m}-${o.orderInfo.user.date.d+3} 23:00`),1)])])):b("",!0)]),$,t("section",tt,[t("div",null,[ot,s(" "+e(o.orderInfo.user.name),1)]),t("div",null,[et,s(" "+e(o.orderInfo.user.email),1)]),t("div",null,[st,s(" "+e(o.orderInfo.user.tel),1)]),t("div",null,[nt,s(" "+e(o.orderInfo.user.address),1)])]),t("h4",{onClick:d[1]||(d[1]=n=>o.openProducts=!o.openProducts),class:"tw-bg-gray-200 tw-rounded-lg tw-py-1 tw-px-4 tw-mt-10 tw-mb-1 tw-flex tw-justify-between tw-items-center tw-cursor-pointer"},[s(" Products Detail "),t("p",{class:g({"fa-rotate-180":!o.openProducts})},[m(w,{icon:["fas","angle-up"]})],2)]),t("section",{class:g([o.openProducts?"tw-h-auto ":"tw-h-0","tw-overflow-hidden tw-px-4"])},[(l(!0),p(S,null,B(o.orderInfo.products,(n,I)=>(l(),p("div",{key:I,class:"tw-grid tw-grid-cols-12 tw-gap-y-4 tw-items-center tw-py-4 tw-border-b tw-border-solid tw-border-gray-200"},[t("span",rt,e(n.product.title),1),t("span",dt,[t("span",at,"$"+e(n.product.price),1),ct]),t("span",lt,e(n.qty),1),t("span",it,[s(" ="),t("span",wt,"$"+e(n.total),1)])]))),128)),t("p",pt,[s(" Total / "+e(`${o.orderInfo.total} + ${o.orderInfo.user.shipping_money} (shipping) = `)+" ",1),t("span",_t,e("$"+(o.orderInfo.total+o.orderInfo.user.shipping_money)),1)])],2)])):(l(),p("div",mt,"No order found"))]}),_:1})}const gt=V(j,[["render",ft],["__scopeId","data-v-c0b7703d"]]);export{gt as default};
