import{v as I,x as F,r as a,y as u,z as x}from"./index.becd6808.js";const $=I("global",()=>{const v=F("axios"),m=a(!1),n=a(!1),p=a(!1),y=a([{name:"\u5168\u90E8\u5546\u54C1",en:"All",link:"/products",key:"all"},{name:"\u8C93\u306E\u98DF\u54C1",en:"Cat\xB4s Food",link:"/products?category=food",key:"food"},{name:"\u8C93\u306E\u7528\u54C1",en:"Cat\xB4s Use",link:"/products?category=use",key:"use"},{name:"\u8C93\u306E\u73A9\u5177",en:"Cat\xB4s Toy",link:"/products?category=toy",key:"toy"},{name:"\u767B\u5165\u5F8C\u53F0",en:"Admin",link:"/login",key:"login"}]),s=u({});Object.keys(window.localStorage).filter(e=>e.match(/meowforestFav/gi)).forEach(e=>{s[e]=!0});const h=e=>{window.localStorage.getItem("meowforestFav"+e)==="y"?(window.localStorage.removeItem("meowforestFav"+e),s["meowforestFav"+e]=!1):(window.localStorage.setItem("meowforestFav"+e,"y"),s["meowforestFav"+e]=!0)},c=a([]);async function w(){if(c.value.length>0)return;const e="https://vue3-course-api.hexschool.io/api/daylily-api/products/all";await v.get(e).then(o=>{o.data.success&&(c.value=o.data.products)}).catch(o=>{console.log(o)})}const d=a([]);async function k(){n.value=!0;const e="https://vue3-course-api.hexschool.io/api/daylily-api/cart";v.get(e).then(o=>{d.value=o.data.data,n.value=!1}).catch(o=>{console.log(o),n.value=!1})}const f=a(""),i=a(""),r=a(0);x(i,e=>{r.value=e==="delivery"?80:0});const t=u({name:"",tel:"",email:"",add:""}),g=a(""),l=u({number:"",valid:"",cvv:""});return{loadingPage:m,loading:n,addingCart:p,menu:y,isfav:s,toggleFav:h,getProducts:w,products:c,getCart:k,cart:d,payment:f,shipping:i,shippingMoney:r,userInfo:t,msg:g,cardInfo:l,initInfo:()=>{f.value="",i.value="",r.value=0,t.name="",t.tel="",t.email="",t.add="",g.value="",l.number="",l.valid="",l.cvv=""}}});export{$ as u};
