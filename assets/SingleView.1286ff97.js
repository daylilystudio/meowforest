import{u as H,a as E,r as N,o as G,M as R,c as O,d,e as b,k as f,f as n,w as T,j as v,t as I,i as q,g as p,m as A,l as B,v as j,n as D,F as $,h as V,s as J}from"./index.a6041f1b.js";import{_ as K}from"./nodata.9b2f1321.js";import{_ as Q}from"./TheHeader.d1f1df2b.js";import{a as W}from"./api.a81b7417.js";import{i as X,$ as U,a as F,S as z}from"./pagination.min.3d4eb08b.js";import{u as Y}from"./global.df7fc7dc.js";import{_ as Z}from"./_plugin-vue_export-helper.cdc0426e.js";import{N as ee}from"./Tag.a2fdfd13.js";import{N as te}from"./InputNumber.b2907a7a.js";import"./Input.cb57e3e7.js";import"./use-merged-state.aa307858.js";function se({swiper:e,extendParams:M,on:P}){M({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let o=!1,y=!1;e.thumbs={swiper:null};function g(){const a=e.thumbs.swiper;if(!a||a.destroyed)return;const t=a.clickedIndex,r=a.clickedSlide;if(r&&U(r).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let i;if(a.params.loop?i=parseInt(U(a.clickedSlide).attr("data-swiper-slide-index"),10):i=t,e.params.loop){let m=e.activeIndex;e.slides.eq(m).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,m=e.activeIndex);const h=e.slides.eq(m).prevAll(`[data-swiper-slide-index="${i}"]`).eq(0).index(),_=e.slides.eq(m).nextAll(`[data-swiper-slide-index="${i}"]`).eq(0).index();typeof h>"u"?i=_:typeof _>"u"?i=h:_-m<m-h?i=_:i=h}e.slideTo(i)}function S(){const{thumbs:a}=e.params;if(o)return!1;o=!0;const t=e.constructor;if(a.swiper instanceof t)e.thumbs.swiper=a.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(X(a.swiper)){const r=Object.assign({},a.swiper);Object.assign(r,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(r),y=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",g),!0}function u(a){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let i=1;const m=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(i=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(i=1),i=Math.floor(i),t.slides.removeClass(m),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let l=0;l<i;l+=1)t.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+l}"]`).addClass(m);else for(let l=0;l<i;l+=1)t.slides.eq(e.realIndex+l).addClass(m);const h=e.params.thumbs.autoScrollOffset,_=h&&!t.params.loop;if(e.realIndex!==t.realIndex||_){let l=t.activeIndex,s,C;if(t.params.loop){t.slides.eq(l).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,l=t.activeIndex);const w=t.slides.eq(l).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),x=t.slides.eq(l).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();typeof w>"u"?s=x:typeof x>"u"?s=w:x-l===l-w?s=t.params.slidesPerGroup>1?x:l:x-l<l-w?s=x:s=w,C=e.activeIndex>e.previousIndex?"next":"prev"}else s=e.realIndex,C=s>e.previousIndex?"next":"prev";_&&(s+=C==="next"?h:-1*h),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(s)<0&&(t.params.centeredSlides?s>l?s=s-Math.floor(r/2)+1:s=s+Math.floor(r/2)-1:s>l&&t.params.slidesPerGroup,t.slideTo(s,a?0:void 0))}}P("beforeInit",()=>{const{thumbs:a}=e.params;!a||!a.swiper||(S(),u(!0))}),P("slideChange update resize observerUpdate",()=>{u()}),P("setTransition",(a,t)=>{const r=e.thumbs.swiper;!r||r.destroyed||r.setTransition(t)}),P("beforeDestroy",()=>{const a=e.thumbs.swiper;!a||a.destroyed||y&&a.destroy()}),Object.assign(e.thumbs,{init:S,update:u})}const le={class:"container"},ae={class:"tw-drop-shadow-main -tw-mt-24 tw-mb-4 tw-text-white"},oe={key:0,class:"tw-shadow-main md:tw-grid tw-gap-8 tw-grid-cols-2 tw-bg-white tw-rounded-2xl tw-p-6 sm:tw-p-8"},ne={class:"tw-relative tw-w-full tw-h-0",style:{"padding-bottom":"75%"}},ie=["src","alt"],re={class:"tw-flex tw-flex-col tw-mt-2 md:tw-mt-0"},de={class:"tw-flex tw-justify-between tw-items-center"},ue=["innerHTML"],ce={class:"tw-my-4"},me={class:"tw-text-primary tw-text-2xl tw-font-bold tw-mr-3"},fe={class:"tw-mt-auto tw-grid tw-grid-cols-2 tw-gap-4"},pe=["disabled"],we=["disabled"],be={key:0,class:"container tw-mt-10 md:tw-pl-1"},he={class:"tw-flex tw-list-none tw-text-lg tw-font-bold"},ve=["innerHTML"],_e={key:1,class:"tw-mt-8"},xe={class:"tw-font-bold tw-mt-4"},ge={key:1,src:K,class:"tw-block tw-w-3/5 sm:tw-w-60 tw-h-auto tw-mx-auto tw-mt-32",alt:"no data"},ye={__name:"SingleView",setup(e){const M=H(),P=E(),o=N({}),y=N(!1),g=N("spec"),S=N(1),u=Y(),a=M.path.split("/")[2],t=async l=>{u.loadingPage=!0;const s=await W.getProduct(l);s.data.success?o.value=s.data.product:y.value=!0,u.loadingPage=!1};G(()=>{t(a)}),R(l=>{t(l.path.split("/")[2])});const r=N(null),i=l=>{r.value=l},m=[se],h=async l=>{await u.addCart(l,S.value),P.push("/cart")},_=[{title:"\u904B\u8CBB\u8AAA\u660E",content:["\u55B5\u68EE\u64DA\u9EDE\u53D6\u8CA8\u514D\u904B\u8CBB\uFF5C\u5B85\u914D\u5230\u5E9C\u904B\u8CBB 80 \u5143\uFF0C","\u55AE\u7B46\u8A02\u55AE\u6EFF 3,000 \u5143\u514D\u904B\u8CBB\u3002","\u82E5\u56E0\u5176\u5546\u54C1\u50F9\u503C\u3001\u6642\u6548\u6027\u6216\u9AD4\u7A4D\u7B49\u7279\u6027\uFF0C\u50C5\u63D0\u4F9B\u4E00\u7A2E\u51FA\u8CA8\u65B9\u5F0F\u3001\u904B\u8CBB\u4E0D\u540C\u6642\uFF0C\u5C07\u5728\u8A72\u5546\u54C1\u9801\u9762\u544A\u77E5\u3002","\u5B85\u914D\u9664\u7279\u6B8A\u54C1\u9805\uFF0C\u6703\u65BC\u5546\u54C1\u9801\u7684\u300C\u6CE8\u610F\u4E8B\u9805\u300D\u516C\u544A\u914D\u9001\u8AAA\u660E\uFF0C\u5176\u9918\u54C1\u9805\u4F7F\u7528\u5B85\u914D\u901A\u9032\u884C\u914D\u9001\u3002"]},{title:"\u914D\u9001\u8AAA\u660E",content:["\u4ED8\u6B3E\u5B8C\u6210\u65E5\u7B97\u8D77\u76847\u500B\u5DE5\u4F5C\u5929\u5167(\u4E0D\u542B\u4F8B\u5047\u65E5)\u9001\u9054\u3002"]},{title:"\u9000\u63DB\u8CA8\u8AAA\u660E",content:["\u82E5\u6709\u9000\u63DB\u8CA8\u9700\u6C42\uFF0C\u53EF\u4F86\u4FE1 meowforest@mail.com \u6216\u4F86\u96FB 02-12340000 \u6D3D\u8A62\uFF0C\u8B1D\u8B1D\u3002"]},{title:"\u7279\u6B8A\u6D3B\u52D5\u8A8D\u8CFC\u8AAA\u660E",content:["\u51E1\u5831\u540D\u7279\u6B8A\u6D3B\u52D5\uFF0C\u4ED8\u6B3E\u5B8C\u6210\u5373\u5831\u540D\u6210\u529F\uFF0C\u8AB2\u524D\u5C07\u53E6\u767C\u9001mail\u901A\u77E5\uFF0C\u8AB2\u7A0B\u958B\u7ACB\u4E00\u822C\u6536\u64DA\u5C07\u7D71\u4E00\u7531\u8CA1\u52D9\u90E8\u9580\u5BC4\u767C\u3002"]}];return(l,s)=>{var x,L;const C=O("router-link"),w=O("font-awesome-icon");return d(),b($,null,[f(Q),n("main",le,[n("div",ae,[f(C,{to:"/",class:"tw-font-bold"},{default:T(()=>[v("Home")]),_:1}),v(" / "),f(C,{to:"/products",class:"tw-font-bold"},{default:T(()=>[v("Product List")]),_:1}),v(" / "),n("span",null,I(o.value.title),1)]),y.value?A("",!0):(d(),b("div",oe,[n("div",null,[n("div",ne,[((x=o.value.imagesUrl)==null?void 0:x.length)>0?(d(),q(p(z),{key:0,modules:m,thumbs:{swiper:r.value},allowTouchMove:((L=o.value.imagesUrl)==null?void 0:L.length)>1,class:"!tw-absolute tw-top-0 tw-w-full tw-h-full"},{default:T(()=>[(d(!0),b($,null,V(o.value.imagesUrl,(c,k)=>(d(),q(p(F),{key:k,style:J({backgroundImage:`url(${c})`})},null,8,["style"]))),128))]),_:1},8,["thumbs","allowTouchMove"])):A("",!0)]),f(p(z),{allowTouchMove:!1,spaceBetween:8,slidesPerView:5,"watch-slides-progress":"",modules:m,onSwiper:i,id:"thumbs",class:"tw-mt-2 tw-leading-none"},{default:T(()=>[(d(!0),b($,null,V(o.value.imagesUrl,(c,k)=>(d(),q(p(F),{key:k},{default:T(()=>[n("img",{class:"tw-w-full tw-cursor-pointer",src:c,alt:k},null,8,ie)]),_:2},1024))),128))]),_:1})]),n("div",re,[n("h2",de,[v(I(o.value.title)+" ",1),f(w,{onClick:s[0]||(s[0]=c=>p(u).toggleFav(o.value.id)),icon:[p(u).isfav["meowforestFav"+o.value.id]?"fas":"far","heart"],class:"tw-text-notice tw-p-2 -tw-mr-2 tw-cursor-pointer"},null,8,["icon"])]),f(p(ee),{bordered:!1,round:"",type:"success",class:"tw-self-start"},{default:T(()=>[v(I(o.value.category),1)]),_:1}),n("p",{class:"tw-mt-6",innerHTML:o.value.description},null,8,ue),n("p",ce,[n("span",me,"NTD. "+I(o.value.price),1),n("del",null,"NTD. "+I(o.value.origin_price),1)]),n("p",fe,[f(p(te),{class:"tw-col-span-2",value:S.value,"onUpdate:value":s[1]||(s[1]=c=>S.value=c),min:1,size:"large","button-placement":"both"},null,8,["value"]),n("button",{type:"button",disabled:p(u).loadingAdd,onClick:s[2]||(s[2]=c=>p(u).addCart(o.value.id,S.value)),class:"tw-bg-second hover:tw-brightness-90 tw-rounded-full tw-text-theme tw-font-bold tw-text-base tw-p-2.5 tw-border-0 tw-cursor-pointer"},[f(w,{icon:["fas","plus"]}),v(" Add to Card "),B(f(w,{class:"fa-spin",icon:["fas","spinner"]},null,512),[[j,p(u).loadingAdd]])],8,pe),n("button",{type:"button",disabled:p(u).loadingAdd,onClick:s[3]||(s[3]=c=>h(o.value.id)),class:"tw-bg-third hover:tw-brightness-90 tw-rounded-full tw-text-theme tw-font-bold tw-text-base tw-p-2 tw-border-0 tw-cursor-pointer"},[f(w,{icon:["fas","dollar-sign"]}),v(" Buy Now "),B(f(w,{class:"fa-spin",icon:["fas","spinner"]},null,512),[[j,p(u).loadingAdd]])],8,we)])])]))]),y.value?A("",!0):(d(),b("section",be,[n("ul",he,[n("li",{onClick:s[4]||(s[4]=c=>g.value="spec"),class:D([{active:g.value==="spec"},"menuA tw-cursor-pointer tw-mr-8"])},"Product Spec",2),n("li",{onClick:s[5]||(s[5]=c=>g.value="notice"),class:D([{active:g.value==="notice"},"menuA tw-cursor-pointer"])},"Notice",2)]),g.value==="spec"?(d(),b("div",{key:0,class:"tw-mt-8",innerHTML:o.value.content},null,8,ve)):A("",!0),g.value==="notice"?(d(),b("div",_e,[(d(),b($,null,V(_,c=>(d(),b($,{key:c.title},[n("p",xe,[f(w,{icon:["fas","paw"],class:"tw-mr-2"}),v(I(c.title),1)]),(d(!0),b($,null,V(c.content,k=>(d(),b("p",{key:k,class:"tw-ml-6"},I(k),1))),128))],64))),64))])):A("",!0)])),y.value?(d(),b("img",ge)):A("",!0),f(C,{to:"/products",class:"hover:tw-brightness-90 tw-bg-third tw-rounded-full tw-block tw-font-bold tw-text-center tw-w-3/5 sm:tw-w-60 tw-p-4 tw-mt-10 tw-mx-auto"},{default:T(()=>[v(" Back To Product List ")]),_:1})],64)}}},qe=Z(ye,[["__scopeId","data-v-df27fc6f"]]);export{qe as default};
