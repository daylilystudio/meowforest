import{u as V,A as F,r as b,J as k,z as q,c as x,d as n,e as m,k as i,f as e,l as B,K as D,F as g,h as C,w as v,j as h,g as c,t as d,m as L,i as N,L as S}from"./index.a6041f1b.js";import{u as A}from"./global.df7fc7dc.js";import{_ as M}from"./TheHeader.d1f1df2b.js";import"./api.a81b7417.js";const P={class:"container lg:tw-grid lg:tw-grid-cols-4 tw-gap-8 tw-pt-10 -tw-mt-24 sm:tw-mt-auto"},U={class:"tw-shadow-main tw-col-span-1 tw-self-start tw-bg-white tw-rounded-2xl tw-p-6 sm:tw-p-8"},j={for:"search",class:"tw-relative"},E={class:"tw-mt-4 lg:tw-ml-2 tw-flex lg:tw-flex-col tw-justify-around"},R={class:"tw-col-span-3"},$={class:"tw-mt-8 lg:tw-mt-0"},z={key:0},G={class:"tw-grid tw-grid-cols-2 md:tw-grid-cols-3 tw-gap-x-4 tw-gap-y-10 tw-mt-6"},H={class:"tw-relative tw-overflow-hidden"},J=["src"],K=["onClick"],I={class:"tw-font-bold tw-mt-3 tw-mb-1"},O={class:"tw-text-second tw-mr-4 tw-font-bold"},et={__name:"ProductsView",setup(Q){const u=V(),f=A(),{menu:y,products:_}=F(f),l=b(""),w=k(()=>{var o;return(o=u.query)!=null&&o.category?u.query.category:""}),p=b([]);p.value.push(...y.value),p.value.forEach((o,s)=>{o.key.includes("login")&&p.value.splice(s,1)}),q(w,()=>{l.value=""});const T=k({get:()=>{var o;if(((o=u.query)==null?void 0:o.category)&&l.value===""){const s=y.value.filter(a=>{var r;return a.key===((r=u.query)==null?void 0:r.category)});return _.value.filter(a=>a.category===s[0].name)}else if(l.value)return _.value.filter(s=>s.title.includes(l.value));return _.value}});return(o,s)=>{const a=x("font-awesome-icon"),r=x("router-link");return n(),m(g,null,[i(M),e("div",P,[e("aside",U,[e("label",j,[B(e("input",{class:"tw-border-primary focus:tw-border-second tw-w-full tw-rounded-full tw-border-solid tw-py-2 tw-pl-8 tw-pr-4","onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),id:"search",type:"text",placeholder:"Search"},null,512),[[D,l.value]]),i(a,{class:"tw-absolute tw-top-1/2 tw-left-3 -tw-translate-y-1/2",icon:["fas","magnifying-glass"]})]),e("div",E,[(n(!0),m(g,null,C(p.value,t=>(n(),N(r,{to:t.link,key:t.name,class:"tw-leading-8 tw-font-bold tw-cursor-pointer"},{default:v(()=>[i(a,{class:"tw-hidden sm:tw-inline sm:tw-mr-2",icon:["fas","paw"]}),h(" "+d(t.name==="Products"?"All":t.name),1)]),_:2},1032,["to"]))),128))])]),e("main",R,[e("div",$,[i(r,{to:"/",class:"tw-font-bold"},{default:v(()=>[h("Home")]),_:1}),h(" / Product List "),c(w)?(n(),m("span",z,"/ "+d(c(w)[0].toUpperCase()+c(w).slice(1)),1)):L("",!0)]),e("section",G,[(n(!0),m(g,null,C(c(T),t=>(n(),N(r,{to:"/products/"+t.id,class:"tw-group",key:t.id},{default:v(()=>[e("div",H,[e("img",{class:"tw-w-full group-hover:tw-scale-110",src:t.imagesUrl[0],alt:"product image"},null,8,J),e("p",{onClick:S(W=>c(f).toggleFav(t.id),["prevent"]),class:"tw-text-second fa-xl tw-absolute tw-right-3 tw-top-3",title:"Add Favorite"},[i(a,{icon:[c(f).isfav["meowforestFav"+t.id]?"fas":"far","heart"]},null,8,["icon"])],8,K)]),e("p",I,d(t.title),1),e("span",O,"NTD. "+d(t.price),1),e("del",null,"NTD. "+d(t.origin_price),1)]),_:2},1032,["to"]))),128))])])])],64)}}};export{et as default};
