import{u as T,A as V,r as k,J as x,z as A,c as F,d as l,e as i,k as d,f as e,l as q,K as B,F as g,h as C,w as h,j as v,g as r,t as w,m as L,i as N,L as D}from"./index.b8e1bcd1.js";import{_ as R}from"./nodata.9b2f1321.js";import{u as S}from"./global.6d707793.js";import{_ as M}from"./TheHeader.9db50ab0.js";import"./api.a81b7417.js";const P={class:"container lg:tw-grid lg:tw-grid-cols-4 tw-gap-8 tw-pt-10 -tw-mt-24 sm:tw-mt-auto"},U={class:"tw-shadow-main tw-col-span-1 tw-self-start tw-bg-white tw-rounded-2xl tw-p-6 sm:tw-p-8"},$={for:"search",class:"tw-relative"},j={class:"tw-mt-4 lg:tw-ml-2 tw-flex lg:tw-flex-col tw-justify-around"},E={class:"tw-col-span-3"},I={class:"tw-mt-8 lg:tw-mt-0"},z={key:0},G={class:"tw-grid tw-grid-cols-2 md:tw-grid-cols-3 tw-gap-x-4 tw-gap-y-10 tw-mt-6"},H={class:"tw-relative tw-overflow-hidden"},J=["src"],K=["onClick"],O={class:"tw-font-bold tw-mt-3 tw-mb-1"},Q={class:"tw-text-second tw-mr-4 tw-font-bold"},W={key:0,class:"tw-opacity-50 tw-w-2/3 md:tw-w-72 tw-mx-auto tw-mt-10"},X=e("img",{src:R,class:"tw-w-full tw-h-auto",alt:"no data"},null,-1),Y=[X],rt={__name:"ProductsView",setup(Z){const u=T(),_=S(),{menu:y,products:f}=V(_),c=k(""),m=x(()=>{var o;return(o=u.query)!=null&&o.category?u.query.category:""}),p=k([]);p.value.push(...y.value),p.value.forEach((o,s)=>{o.key.includes("login")&&p.value.splice(s,1)}),A(m,()=>{c.value=""});const b=x({get:()=>{var o;if(((o=u.query)==null?void 0:o.category)&&c.value===""){const s=y.value.filter(a=>{var n;return a.key===((n=u.query)==null?void 0:n.category)});return f.value.filter(a=>a.category===s[0].name)}else if(c.value)return f.value.filter(s=>s.title.includes(c.value));return f.value}});return(o,s)=>{const a=F("FontAwesomeIcon"),n=F("RouterLink");return l(),i(g,null,[d(M),e("div",P,[e("aside",U,[e("label",$,[q(e("input",{class:"tw-border-primary focus:tw-border-second tw-w-full tw-rounded-full tw-border-solid tw-py-2 tw-pl-8 tw-pr-4","onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),id:"search",type:"text",placeholder:"Search"},null,512),[[B,c.value]]),d(a,{class:"tw-absolute tw-top-1/2 tw-left-3 -tw-translate-y-1/2",icon:["fas","magnifying-glass"]})]),e("div",j,[(l(!0),i(g,null,C(p.value,t=>(l(),N(n,{to:t.link,key:t.name,class:"tw-leading-8 tw-font-bold tw-cursor-pointer"},{default:h(()=>[d(a,{class:"tw-hidden sm:tw-inline sm:tw-mr-2",icon:["fas","paw"]}),v(" "+w(t.name==="Products"?"All":t.name),1)]),_:2},1032,["to"]))),128))])]),e("main",E,[e("div",I,[d(n,{to:"/",class:"tw-font-bold"},{default:h(()=>[v("Home")]),_:1}),v(" / Product List "),r(m)?(l(),i("span",z,"/ "+w(r(m)[0].toUpperCase()+r(m).slice(1)),1)):L("",!0)]),e("section",G,[(l(!0),i(g,null,C(r(b),t=>(l(),N(n,{to:`/products/${t.id}`,class:"tw-group",key:t.id},{default:h(()=>[e("div",H,[e("img",{class:"tw-w-full group-hover:tw-scale-110",src:t.imagesUrl[0],alt:"product image"},null,8,J),e("p",{onClick:D(tt=>r(_).toggleFav(t.id),["prevent"]),class:"tw-text-second fa-xl tw-absolute tw-right-3 tw-top-3",title:"Add Favorite"},[d(a,{icon:[r(_).isfav["meowforestFav"+t.id]?"fas":"far","heart"]},null,8,["icon"])],8,K)]),e("p",O,w(t.title),1),e("span",Q,"NTD. "+w(t.price),1),e("del",null,"NTD. "+w(t.origin_price),1)]),_:2},1032,["to"]))),128))]),r(b).length===0?(l(),i("div",W,Y)):L("",!0)])])],64)}}};export{rt as default};
