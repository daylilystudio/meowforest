import{T as j}from"./TheHeader.13424155.js";import{u as D,a as H,r as N,o as U,M as F,c as x,d as u,e as w,j as m,f as r,w as v,i as b,t as S,h as V,l as T,k as q,v as L,n as O,F as C,g as A,s as z}from"./index.9e914852.js";import{a as E}from"./api.a81b7417.js";import{i as G,$ as B,S as R,a as J}from"./pagination.min.802f680a.js";import{u as K}from"./global.ead6d293.js";import{_ as Q}from"./nodata.9b2f1321.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";import{N as X}from"./InputNumber.9936bafc.js";import{N as Y}from"./Tag.5972d240.js";import"./Input.81d015f0.js";import"./use-merged-state.14576474.js";function Z({swiper:e,extendParams:d,on:g}){d({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let t=!1,k=!1;e.thumbs={swiper:null};function I(){const l=e.thumbs.swiper;if(!l||l.destroyed)return;const s=l.clickedIndex,i=l.clickedSlide;if(i&&B(i).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof s>"u"||s===null)return;let n;if(l.params.loop?n=parseInt(B(l.clickedSlide).attr("data-swiper-slide-index"),10):n=s,e.params.loop){let c=e.activeIndex;e.slides.eq(c).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,c=e.activeIndex);const f=e.slides.eq(c).prevAll(`[data-swiper-slide-index="${n}"]`).eq(0).index(),p=e.slides.eq(c).nextAll(`[data-swiper-slide-index="${n}"]`).eq(0).index();typeof f>"u"?n=p:typeof p>"u"?n=f:p-c<c-f?n=p:n=f}e.slideTo(n)}function h(){const{thumbs:l}=e.params;if(t)return!1;t=!0;const s=e.constructor;if(l.swiper instanceof s)e.thumbs.swiper=l.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(G(l.swiper)){const i=Object.assign({},l.swiper);Object.assign(i,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(i),k=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",I),!0}function _(l){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const i=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():s.params.slidesPerView;let n=1;const c=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(n=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(n=1),n=Math.floor(n),s.slides.removeClass(c),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let o=0;o<n;o+=1)s.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+o}"]`).addClass(c);else for(let o=0;o<n;o+=1)s.slides.eq(e.realIndex+o).addClass(c);const f=e.params.thumbs.autoScrollOffset,p=f&&!s.params.loop;if(e.realIndex!==s.realIndex||p){let o=s.activeIndex,a,M;if(s.params.loop){s.slides.eq(o).hasClass(s.params.slideDuplicateClass)&&(s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft,o=s.activeIndex);const P=s.slides.eq(o).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),y=s.slides.eq(o).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();typeof P>"u"?a=y:typeof y>"u"?a=P:y-o===o-P?a=s.params.slidesPerGroup>1?y:o:y-o<o-P?a=y:a=P,M=e.activeIndex>e.previousIndex?"next":"prev"}else a=e.realIndex,M=a>e.previousIndex?"next":"prev";p&&(a+=M==="next"?f:-1*f),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(a)<0&&(s.params.centeredSlides?a>o?a=a-Math.floor(i/2)+1:a=a+Math.floor(i/2)-1:a>o&&s.params.slidesPerGroup,s.slideTo(a,l?0:void 0))}}g("beforeInit",()=>{const{thumbs:l}=e.params;!l||!l.swiper||(h(),_(!0))}),g("slideChange update resize observerUpdate",()=>{_()}),g("setTransition",(l,s)=>{const i=e.thumbs.swiper;!i||i.destroyed||i.setTransition(s)}),g("beforeDestroy",()=>{const l=e.thumbs.swiper;!l||l.destroyed||k&&l.destroy()}),Object.assign(e.thumbs,{init:h,update:_})}const $={components:{TheHeader:j,Swiper:R,SwiperSlide:J,NInputNumber:X,NTag:Y},setup(){const e=D(),d=H(),g=N({}),t=N(!1),k=N("spec"),I=N(1),h=K(),_=e.path.split("/")[2],l=async n=>{h.loadingPage=!0;const c=await E.getProduct(n);c.data.success?g.value=c.data.product:t.value=!0,h.loadingPage=!1};U(()=>{l(_)}),F(n=>{l(n.path.split("/")[2])});const s=N(null);return{globalStore:h,thumbsSwiper:s,setThumbsSwiper:n=>{s.value=n},modules:[Z],noProduct:t,product:g,tab:k,addNum:I,async buy(n){await h.addCart(n,I.value),d.push("/cart")},notice:[{title:"\u904B\u8CBB\u8AAA\u660E",content:["\u55B5\u68EE\u64DA\u9EDE\u53D6\u8CA8\u514D\u904B\u8CBB\uFF5C\u5B85\u914D\u5230\u5E9C\u904B\u8CBB 80 \u5143\uFF0C","\u55AE\u7B46\u8A02\u55AE\u6EFF 3,000 \u5143\u514D\u904B\u8CBB\u3002","\u82E5\u56E0\u5176\u5546\u54C1\u50F9\u503C\u3001\u6642\u6548\u6027\u6216\u9AD4\u7A4D\u7B49\u7279\u6027\uFF0C\u50C5\u63D0\u4F9B\u4E00\u7A2E\u51FA\u8CA8\u65B9\u5F0F\u3001\u904B\u8CBB\u4E0D\u540C\u6642\uFF0C\u5C07\u5728\u8A72\u5546\u54C1\u9801\u9762\u544A\u77E5\u3002","\u5B85\u914D\u9664\u7279\u6B8A\u54C1\u9805\uFF0C\u6703\u65BC\u5546\u54C1\u9801\u7684\u300C\u6CE8\u610F\u4E8B\u9805\u300D\u516C\u544A\u914D\u9001\u8AAA\u660E\uFF0C\u5176\u9918\u54C1\u9805\u4F7F\u7528\u5B85\u914D\u901A\u9032\u884C\u914D\u9001\u3002"]},{title:"\u914D\u9001\u8AAA\u660E",content:["\u4ED8\u6B3E\u5B8C\u6210\u65E5\u7B97\u8D77\u76847\u500B\u5DE5\u4F5C\u5929\u5167(\u4E0D\u542B\u4F8B\u5047\u65E5)\u9001\u9054\u3002"]},{title:"\u9000\u63DB\u8CA8\u8AAA\u660E",content:["\u82E5\u6709\u9000\u63DB\u8CA8\u9700\u6C42\uFF0C\u53EF\u4F86\u4FE1 meowforest@mail.com \u6216\u4F86\u96FB 02-12340000 \u6D3D\u8A62\uFF0C\u8B1D\u8B1D\u3002"]},{title:"\u7279\u6B8A\u6D3B\u52D5\u8A8D\u8CFC\u8AAA\u660E",content:["\u51E1\u5831\u540D\u7279\u6B8A\u6D3B\u52D5\uFF0C\u4ED8\u6B3E\u5B8C\u6210\u5373\u5831\u540D\u6210\u529F\uFF0C\u8AB2\u524D\u5C07\u53E6\u767C\u9001mail\u901A\u77E5\uFF0C\u8AB2\u7A0B\u958B\u7ACB\u4E00\u822C\u6536\u64DA\u5C07\u7D71\u4E00\u7531\u8CA1\u52D9\u90E8\u9580\u5BC4\u767C\u3002"]}]}}},ee={class:"container"},te={class:"tw-drop-shadow-main -tw-mt-24 tw-mb-4 tw-text-white"},se={key:0,class:"tw-shadow-main md:tw-grid tw-gap-8 tw-grid-cols-2 tw-bg-white tw-rounded-2xl tw-p-6 sm:tw-p-8"},oe={class:"tw-relative tw-w-full tw-h-0",style:{"padding-bottom":"75%"}},le=["src","alt"],ne={class:"tw-flex tw-flex-col tw-mt-2 md:tw-mt-0"},ae={class:"tw-flex tw-justify-between tw-items-center"},ie=["innerHTML"],re={class:"tw-my-4"},de={class:"tw-text-primary tw-text-2xl tw-font-bold tw-mr-3"},ce={class:"tw-mt-auto tw-grid tw-grid-cols-2 tw-gap-4"},ue=["disabled"],me=["disabled"],we={key:0,class:"container tw-mt-10 md:tw-pl-1"},fe={class:"tw-flex tw-list-none tw-text-lg tw-font-bold"},pe=["innerHTML"],be={key:1,class:"tw-mt-8"},he={class:"tw-font-bold tw-mt-4"},_e={key:1,src:Q,class:"tw-block tw-w-3/5 sm:tw-w-60 tw-h-auto tw-mx-auto tw-mt-32",alt:"no data"};function ge(e,d,g,t,k,I){var f,p;const h=x("TheHeader"),_=x("router-link"),l=x("SwiperSlide"),s=x("Swiper"),i=x("font-awesome-icon"),n=x("NTag"),c=x("NInputNumber");return u(),w(C,null,[m(h),r("main",ee,[r("div",te,[m(_,{to:"/",class:"tw-font-bold"},{default:v(()=>[b("Home")]),_:1}),b(" / "),m(_,{to:"/products",class:"tw-font-bold"},{default:v(()=>[b("Product List")]),_:1}),b(" / "),r("span",null,S(t.product.title),1)]),t.noProduct?T("",!0):(u(),w("div",se,[r("div",null,[r("div",oe,[((f=t.product.imagesUrl)==null?void 0:f.length)>0?(u(),V(s,{key:0,modules:t.modules,thumbs:{swiper:t.thumbsSwiper},allowTouchMove:((p=t.product.imagesUrl)==null?void 0:p.length)>1,class:"!tw-absolute tw-top-0 tw-w-full tw-h-full"},{default:v(()=>[(u(!0),w(C,null,A(t.product.imagesUrl,(o,a)=>(u(),V(l,{key:a,style:z({backgroundImage:`url(${o})`})},null,8,["style"]))),128))]),_:1},8,["modules","thumbs","allowTouchMove"])):T("",!0)]),m(s,{allowTouchMove:!1,spaceBetween:8,slidesPerView:5,"watch-slides-progress":"",modules:t.modules,onSwiper:t.setThumbsSwiper,id:"thumbs",class:"tw-mt-2 tw-leading-none"},{default:v(()=>[(u(!0),w(C,null,A(t.product.imagesUrl,(o,a)=>(u(),V(l,{key:a},{default:v(()=>[r("img",{class:"tw-w-full tw-cursor-pointer",src:o,alt:a},null,8,le)]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])]),r("div",ne,[r("h2",ae,[b(S(t.product.title)+" ",1),m(i,{onClick:d[0]||(d[0]=o=>t.globalStore.toggleFav(t.product.id)),icon:[t.globalStore.isfav["meowforestFav"+t.product.id]?"fas":"far","heart"],class:"tw-text-notice tw-p-2 -tw-mr-2 tw-cursor-pointer"},null,8,["icon"])]),m(n,{bordered:!1,round:"",type:"success",class:"tw-self-start"},{default:v(()=>[b(S(t.product.category),1)]),_:1}),r("p",{class:"tw-mt-6",innerHTML:t.product.description},null,8,ie),r("p",re,[r("span",de,"NTD. "+S(t.product.price),1),r("del",null,"NTD. "+S(t.product.origin_price),1)]),r("p",ce,[m(c,{class:"tw-col-span-2",value:t.addNum,"onUpdate:value":d[1]||(d[1]=o=>t.addNum=o),min:1,size:"large","button-placement":"both"},null,8,["value"]),r("button",{type:"button",disabled:t.globalStore.loadingAdd,onClick:d[2]||(d[2]=o=>t.globalStore.addCart(t.product.id,t.addNum)),class:"tw-bg-second hover:tw-brightness-90 tw-rounded-full tw-text-theme tw-font-bold tw-text-base tw-p-2.5 tw-border-0 tw-cursor-pointer"},[m(i,{icon:["fas","plus"]}),b(" Add to Card "),q(m(i,{class:"fa-spin",icon:["fas","spinner"]},null,512),[[L,t.globalStore.loadingAdd]])],8,ue),r("button",{type:"button",disabled:t.globalStore.loadingAdd,onClick:d[3]||(d[3]=o=>t.buy(t.product.id)),class:"tw-bg-third hover:tw-brightness-90 tw-rounded-full tw-text-theme tw-font-bold tw-text-base tw-p-2 tw-border-0 tw-cursor-pointer"},[m(i,{icon:["fas","dollar-sign"]}),b(" Buy Now "),q(m(i,{class:"fa-spin",icon:["fas","spinner"]},null,512),[[L,t.globalStore.loadingAdd]])],8,me)])])]))]),t.noProduct?T("",!0):(u(),w("section",we,[r("ul",fe,[r("li",{onClick:d[4]||(d[4]=o=>t.tab="spec"),class:O([{active:t.tab==="spec"},"menuA tw-cursor-pointer tw-mr-8"])},"Product Spec",2),r("li",{onClick:d[5]||(d[5]=o=>t.tab="notice"),class:O([{active:t.tab==="notice"},"menuA tw-cursor-pointer"])},"Notice",2)]),t.tab==="spec"?(u(),w("div",{key:0,class:"tw-mt-8",innerHTML:t.product.content},null,8,pe)):T("",!0),t.tab==="notice"?(u(),w("div",be,[(u(!0),w(C,null,A(t.notice,o=>(u(),w(C,{key:o.title},[r("p",he,[m(i,{icon:["fas","paw"],class:"tw-mr-2"}),b(S(o.title),1)]),(u(!0),w(C,null,A(o.content,a=>(u(),w("p",{key:a,class:"tw-ml-6"},S(a),1))),128))],64))),128))])):T("",!0)])),t.noProduct?(u(),w("img",_e)):T("",!0),m(_,{to:"/products",class:"hover:tw-brightness-90 tw-bg-third tw-rounded-full tw-block tw-font-bold tw-text-center tw-w-3/5 sm:tw-w-60 tw-p-4 tw-mt-10 tw-mx-auto"},{default:v(()=>[b(" Back To Product List ")]),_:1})],64)}const Me=W($,[["render",ge],["__scopeId","data-v-12edcb48"]]);export{Me as default};
