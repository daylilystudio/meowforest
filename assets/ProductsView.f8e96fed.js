import{u as C,A as N,r as b,I as x,z as S,b as _,c as l,e as p,j as d,f as e,J as V,K as F,F as g,g as k,w as h,i as v,t as w,k as L,h as T,L as q}from"./index.becd6808.js";import{u as B}from"./global.7623cf1c.js";import{T as D}from"./TheHeader.9a2dab41.js";import{_ as M}from"./_plugin-vue_export-helper.cdc0426e.js";const U={components:{TheHeader:D},setup(){const c=C(),n=B(),{menu:m,products:o}=N(n),a=b(""),f=x(()=>{var s;return(s=c.query)!=null&&s.category?c.query.category:""}),r=b([]);r.value.push(...m.value),r.value.forEach((s,t)=>{s.key.includes("login")&&r.value.splice(t,1)}),S(f,()=>{a.value=""});const i=x({get:()=>{var s;if(((s=c.query)==null?void 0:s.category)&&a.value===""){const t=m.value.filter(u=>{var y;return u.key===((y=c.query)==null?void 0:y.category)});return o.value.filter(u=>u.category===t[0].name)}else if(a.value)return o.value.filter(t=>t.title.includes(a.value));return o.value},set:s=>{console.log(s)}});return{globalStore:n,searchText:a,bread:f,productMenu:r,productsList:i}}},j={class:"container lg:tw-grid lg:tw-grid-cols-4 tw-gap-8 tw-pt-10 -tw-mt-24 sm:tw-mt-auto"},A={class:"shadow tw-col-span-1 tw-self-start tw-bg-white tw-rounded-2xl tw-p-6 sm:tw-p-8"},E={for:"search",class:"tw-relative"},H={class:"tw-mt-4 lg:tw-ml-2 tw-flex lg:tw-flex-col tw-justify-around"},P={class:"tw-col-span-3"},R={class:"tw-mt-8 lg:tw-mt-0"},z={key:0},G={class:"tw-grid tw-grid-cols-2 md:tw-grid-cols-3 tw-gap-x-4 tw-gap-y-10 tw-mt-6"},I={class:"tw-relative tw-overflow-hidden"},J=["src"],K=["onClick"],O={class:"tw-font-bold tw-mt-3 tw-mb-1"},Q={class:"text-second tw-mr-4 tw-font-bold"};function W(c,n,m,o,a,f){const r=_("the-header"),i=_("font-awesome-icon"),s=_("router-link");return l(),p(g,null,[d(r),e("div",j,[e("aside",A,[e("label",E,[V(e("input",{class:"border-primary tw-w-full tw-rounded-full tw-border-solid tw-py-2 tw-pl-8 tw-pr-4","onUpdate:modelValue":n[0]||(n[0]=t=>o.searchText=t),id:"search",type:"text",placeholder:"Search"},null,512),[[F,o.searchText]]),d(i,{class:"tw-absolute tw-top-1/2 tw-left-3 -tw-translate-y-1/2",icon:["fas","magnifying-glass"]})]),e("div",H,[(l(!0),p(g,null,k(o.productMenu,t=>(l(),T(s,{to:t.link,key:t.name,class:"tw-leading-8 tw-font-bold tw-cursor-pointer"},{default:h(()=>[d(i,{class:"tw-hidden sm:tw-inline sm:tw-mr-2",icon:["fas","paw"]}),v(" "+w(t.name),1)]),_:2},1032,["to"]))),128))])]),e("main",P,[e("div",R,[d(s,{to:"/",class:"tw-font-bold"},{default:h(()=>[v("Home")]),_:1}),v(" / Product List "),o.bread?(l(),p("span",z,"/ "+w(o.bread[0].toUpperCase()+o.bread.slice(1)),1)):L("",!0)]),e("section",G,[(l(!0),p(g,null,k(o.productsList,t=>(l(),T(s,{to:"/products/"+t.id,class:"tw-group",key:t.id},{default:h(()=>[e("div",I,[e("img",{class:"tw-w-full group-hover:tw-scale-110",src:t.imagesUrl[0],alt:"product image"},null,8,J),e("p",{onClick:q(u=>o.globalStore.toggleFav(t.id),["prevent"]),class:"text-second fa-xl tw-absolute tw-right-3 tw-top-3",title:"Add Favorite"},[d(i,{icon:[o.globalStore.isfav["meowforestFav"+t.id]?"fas":"far","heart"]},null,8,["icon"])],8,K)]),e("p",O,w(t.title),1),e("span",Q,"NTD. "+w(t.price),1),e("del",null,"NTD. "+w(t.origin_price),1)]),_:2},1032,["to"]))),128))])])])],64)}const tt=M(U,[["render",W]]);export{tt as default};
