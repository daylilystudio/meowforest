import{S as k}from"./ShopLayout.97f5ec35.js";import{y as x,a as S,u as C,r as g,o as N,c as b,d as c,h as I,w as O,e as p,f as t,i as n,t as e,j as h,l as u,n as v,F as P,g as B,p as M,m as D}from"./index.3fd88bf0.js";import{u as L}from"./global.efb0bcc0.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";import"./TheHeader.24b3d165.js";const V="/meowforest/assets/thx.f90faec0.png";const j={components:{ShopLayout:k},setup(){const l=x("axios"),d=x("$filter"),y=S(),o=C(),_=L(),m=g(null),i=g(!1);async function f(r){_.loading=!0;const a=`https://vue3-course-api.hexschool.io/api/daylily-api/order/${r}`;l.get(a).then(w=>{m.value=w.data.success?w.data.order:"No order found",_.loading=!1}).catch(w=>{window.$message.error(w.toString()),_.loading=!1})}return N(async()=>{await f(o.path.split("/")[2])}),{filter:d,globalStore:_,router:y,orderInfo:m,openProducts:i,async copy(){const r=document.createElement("input");r.value=window.location.href,r.style.display="none",document.body.appendChild(r);try{await navigator.clipboard.writeText(r.value),window.$message.success("Copy URL Success !")}catch{window.$message.error("Copy URL Error !")}}}}},s=l=>(M("data-v-57a9a567"),l=l(),D(),l),R={key:0},A=s(()=>t("img",{src:V,class:"tw-block tw-w-3/5 sm:tw-w-60 tw-h-auto tw-mx-auto",alt:"thank you!"},null,-1)),E={class:"tw-bg-gray-200 tw-rounded-lg tw-py-1 tw-px-4"},U={class:"tw-text-notice tw-border-notice tw-border tw-border-solid tw-text-sm tw-rounded-full tw-px-2 tw-ml-1"},F={class:"tw-text-right tw-font-bold tw-text-primary tw-my-2 tw-mr-4"},G=s(()=>t("br",{class:"tw-block md:tw-hidden"},null,-1)),q={class:"md:tw-grid tw-grid-cols-2 tw-px-4 tw-leading-7"},z=s(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Order Total",-1)),H={class:"tw-text-notice"},X=s(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Order Date",-1)),Y=s(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Shipping Method",-1)),J=s(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Payment Method",-1)),K={key:0,class:"tw-text-primary tw-border-primary tw-border tw-border-solid tw-shadow-inner tw-rounded-xl tw-font-bold tw-col-span-2 md:tw-flex tw-items-center tw-py-3 tw-mt-2"},Q={class:"tw-text-lg tw-text-center md:tw-px-8"},W={class:"tw-grid tw-gap-1 tw-text-center md:tw-text-left tw-my-4 md:tw-my-0"},Z=s(()=>t("span",null,"Bank Code : 333 (Meow Bank)",-1)),$=s(()=>t("span",null,"Account : 00001234567890",-1)),tt={class:"tw-text-notice"},ot=s(()=>t("h4",{class:"tw-bg-gray-200 tw-rounded-lg tw-py-1 tw-px-4 tw-mt-10 tw-mb-2"},"Customer Details",-1)),et={class:"md:tw-grid tw-grid-cols-2 tw-leading-7 tw-px-4"},st=s(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Name",-1)),nt=s(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Email",-1)),rt=s(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Phone",-1)),at=s(()=>t("span",{class:"tw-font-bold tw-mr-1"},"Address",-1)),dt={class:"tw-col-span-12 md:tw-col-span-6"},ct={class:"tw-col-span-4 md:tw-col-span-2 tw-flex tw-justify-between"},lt={class:"tw-text-primary tw-font-bold"},it=s(()=>t("span",{class:"tw-mr-4"},"X",-1)),wt={class:"tw-col-span-4 md:tw-col-span-2"},pt={class:"tw-col-span-4 md:tw-col-span-2 tw-flex tw-justify-between"},_t={class:"tw-text-primary tw-font-bold"},mt={class:"tw-mt-5 tw-text-right"},ft={key:0,class:"tw-text-sm"},ht=s(()=>t("br",null,null,-1)),ut={class:"tw-text-sm"},yt=s(()=>t("br",null,null,-1)),xt=s(()=>t("span",null,"Total / ",-1)),gt={class:"tw-font-bold tw-text-primary tw-ml-1"},bt={key:1,class:"tw-text-xl tw-font-bold tw-text-center tw-mb-6"};function It(l,d,y,o,_,m){const i=b("font-awesome-icon"),f=b("ShopLayout");return c(),I(f,{process:2,breadcrumb:"Order Finish",nextBtn:"Back To Home",onOnGoNext:d[2]||(d[2]=r=>o.router.push("/"))},{content:O(()=>{var r;return[o.orderInfo!==null?(c(),p("div",R,[A,t("h4",E,[n("Order Details "),t("span",U,e(o.orderInfo.is_paid?"Paid":"Unpaid"),1)]),t("p",F,[n("Order No. "+e(o.orderInfo.create_at)+" ",1),G,t("a",{onClick:d[0]||(d[0]=(...a)=>o.copy&&o.copy(...a)),class:"tw-bg-primary tw-rounded-full tw-text-sm tw-text-white tw-py-1 tw-px-3 tw-cursor-pointer"},[h(i,{icon:["far","copy"],class:"tw-mr-2"}),n("COPY URL ")])]),t("section",q,[t("div",null,[z,n(),t("span",H,"$"+e(Math.ceil(o.orderInfo.total)+o.orderInfo.user.shipping_money),1)]),t("div",null,[X,n(" "+e(o.filter.date(o.orderInfo.create_at*1e3)),1)]),t("div",null,[Y,n(" "+e(o.orderInfo.user.shipping_method),1)]),t("div",null,[J,n(" "+e(o.orderInfo.user.payment_method==="atm"?"ATM transfer":"Credit ****"+o.orderInfo.user.card.slice(-4)),1),((r=o.orderInfo.user)==null?void 0:r.payment_method)==="creditcard"?(c(),I(i,{key:0,icon:["far","credit-card"],class:"tw-opacity-40 tw-ml-1"})):u("",!0)]),o.orderInfo.user.payment_method==="atm"?(c(),p("div",K,[t("p",Q,[h(i,{icon:["fas","cat"]}),n(" ATM transfer Info")]),t("p",W,[Z,$,t("span",tt,"Deadline : "+e(o.filter.date(o.orderInfo.create_at*1e3,3,!1)+" 23:00"),1)])])):u("",!0)]),ot,t("section",et,[t("div",null,[st,n(" "+e(o.orderInfo.user.name),1)]),t("div",null,[nt,n(" "+e(o.orderInfo.user.email),1)]),t("div",null,[rt,n(" "+e(o.orderInfo.user.tel),1)]),t("div",null,[at,n(" "+e(o.orderInfo.user.address),1)])]),t("h4",{onClick:d[1]||(d[1]=a=>o.openProducts=!o.openProducts),class:"tw-bg-gray-200 tw-rounded-lg tw-py-1 tw-px-4 tw-mt-10 tw-mb-1 tw-flex tw-justify-between tw-items-center tw-cursor-pointer"},[n(" Products Detail "),t("p",{class:v({"fa-rotate-180":!o.openProducts})},[h(i,{icon:["fas","angle-up"]})],2)]),t("section",{class:v([o.openProducts?"tw-h-auto ":"tw-h-0","tw-overflow-hidden tw-px-4"])},[(c(!0),p(P,null,B(o.orderInfo.products,(a,w)=>(c(),p("div",{key:w,class:"tw-grid tw-grid-cols-12 tw-gap-y-4 tw-items-center tw-py-4 tw-border-b tw-border-solid tw-border-gray-200"},[t("span",dt,e(a.product.title),1),t("span",ct,[t("span",lt,"$"+e(a.product.price),1),it]),t("span",wt,e(a.qty),1),t("span",pt,[n(" ="),t("span",_t,"$"+e(a.total),1)])]))),128)),t("p",mt,[o.orderInfo.user.discount>0?(c(),p("span",ft,[n("Discount / -"+e(o.orderInfo.user.discount),1),ht])):u("",!0),t("span",ut,"Shipping / "+e(o.orderInfo.user.shipping_money),1),yt,xt,t("span",gt,e("$"+(Math.ceil(o.orderInfo.total)+o.orderInfo.user.shipping_money)),1)])],2)])):(c(),p("div",bt,"No order found"))]}),_:1})}const Ot=T(j,[["render",It],["__scopeId","data-v-57a9a567"]]);export{Ot as default};
