import{u as C,B as N,r as b,K as x,A as S,c as _,d as l,e as p,j as d,f as e,k as V,L as B,F as g,g as k,w as h,i as v,t as w,l as F,h as T,M as L}from"./index.bcad466f.js";import{u as M}from"./global.81f10426.js";import{T as q}from"./TheHeader.5350655e.js";import{_ as D}from"./_plugin-vue_export-helper.cdc0426e.js";const H={components:{TheHeader:q},setup(){const c=C(),n=M(),{menu:m,products:o}=N(n),a=b(""),f=x(()=>{var s;return(s=c.query)!=null&&s.category?c.query.category:""}),r=b([]);r.value.push(...m.value),r.value.forEach((s,t)=>{s.key.includes("login")&&r.value.splice(t,1)}),S(f,()=>{a.value=""});const i=x({get:()=>{var s;if(((s=c.query)==null?void 0:s.category)&&a.value===""){const t=m.value.filter(u=>{var y;return u.key===((y=c.query)==null?void 0:y.category)});return o.value.filter(u=>u.category===t[0].name)}else if(a.value)return o.value.filter(t=>t.title.includes(a.value));return o.value}});return{globalStore:n,searchText:a,bread:f,productMenu:r,productsList:i}}},U={class:"container lg:tw-grid lg:tw-grid-cols-4 tw-gap-8 tw-pt-10 -tw-mt-24 sm:tw-mt-auto"},j={class:"shadow tw-col-span-1 tw-self-start tw-bg-white tw-rounded-2xl tw-p-6 sm:tw-p-8"},A={for:"search",class:"tw-relative"},E={class:"tw-mt-4 lg:tw-ml-2 tw-flex lg:tw-flex-col tw-justify-around"},P={class:"tw-col-span-3"},R={class:"tw-mt-8 lg:tw-mt-0"},G={key:0},K={class:"tw-grid tw-grid-cols-2 md:tw-grid-cols-3 tw-gap-x-4 tw-gap-y-10 tw-mt-6"},z={class:"tw-relative tw-overflow-hidden"},I=["src"],J=["onClick"],O={class:"tw-font-bold tw-mt-3 tw-mb-1"},Q={class:"text-second tw-mr-4 tw-font-bold"};function W(c,n,m,o,a,f){const r=_("TheHeader"),i=_("font-awesome-icon"),s=_("router-link");return l(),p(g,null,[d(r),e("div",U,[e("aside",j,[e("label",A,[V(e("input",{class:"border-primary tw-w-full tw-rounded-full tw-border-solid tw-py-2 tw-pl-8 tw-pr-4","onUpdate:modelValue":n[0]||(n[0]=t=>o.searchText=t),id:"search",type:"text",placeholder:"Search"},null,512),[[B,o.searchText]]),d(i,{class:"tw-absolute tw-top-1/2 tw-left-3 -tw-translate-y-1/2",icon:["fas","magnifying-glass"]})]),e("div",E,[(l(!0),p(g,null,k(o.productMenu,t=>(l(),T(s,{to:t.link,key:t.name,class:"tw-leading-8 tw-font-bold tw-cursor-pointer"},{default:h(()=>[d(i,{class:"tw-hidden sm:tw-inline sm:tw-mr-2",icon:["fas","paw"]}),v(" "+w(t.name),1)]),_:2},1032,["to"]))),128))])]),e("main",P,[e("div",R,[d(s,{to:"/",class:"tw-font-bold"},{default:h(()=>[v("Home")]),_:1}),v(" / Product List "),o.bread?(l(),p("span",G,"/ "+w(o.bread[0].toUpperCase()+o.bread.slice(1)),1)):F("",!0)]),e("section",K,[(l(!0),p(g,null,k(o.productsList,t=>(l(),T(s,{to:"/products/"+t.id,class:"tw-group",key:t.id},{default:h(()=>[e("div",z,[e("img",{class:"tw-w-full group-hover:tw-scale-110",src:t.imagesUrl[0],alt:"product image"},null,8,I),e("p",{onClick:L(u=>o.globalStore.toggleFav(t.id),["prevent"]),class:"text-second fa-xl tw-absolute tw-right-3 tw-top-3",title:"Add Favorite"},[d(i,{icon:[o.globalStore.isfav["meowforestFav"+t.id]?"fas":"far","heart"]},null,8,["icon"])],8,J)]),e("p",O,w(t.title),1),e("span",Q,"NTD. "+w(t.price),1),e("del",null,"NTD. "+w(t.origin_price),1)]),_:2},1032,["to"]))),128))])])])],64)}const tt=D(H,[["render",W]]);export{tt as default};
